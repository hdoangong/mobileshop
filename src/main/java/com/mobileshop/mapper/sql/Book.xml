<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mobileshop.mapper.BookMapper">
    <select id="getAll" resultMap="result">
        SELECT * FROM BOOK;
    </select>
    
    <select id="getAllBookTable" resultMap="resultTable">
        select b.*,p.NAME, p.UNIT, p.PRICE  from PRODUCT as p, BOOK as b where p.PRODUCT_ID = b.PRODUCT_ID;
    </select>
    
    
    <resultMap id = "result" type = "com.mobileshop.model.BookModel">
       <result property = "productId" column = "PRODUCT_ID"/>
       <result property = "userId" column = "USER_ID"/>
       <result property = "time" column = "TIME"/>
       <result property = "amount" column = "AMOUNT"/>
       <result property = "address" column = "ADDRESS"/>
       <result property = "paymentMethods" column = "PAYMENT_METHODS"/>
       <result property = "note" column = "NOTE"/>
    </resultMap>
    
    <resultMap id = "resultTable" type = "com.mobileshop.model.BookTableModel">
       <result property = "productId" column = "PRODUCT_ID"/>
       <result property = "userId" column = "USER_ID"/>
       <result property = "time" column = "TIME"/>
       <result property = "amount" column = "AMOUNT"/>
       <result property = "address" column = "ADDRESS"/>
       <result property = "paymentMethods" column = "PAYMENT_METHODS"/>
       <result property = "note" column = "NOTE"/>
       
       <result property = "name" column = "NAME"/>
       <result property = "unit" column = "UNIT"/>
       <result property = "price" column = "PRICE"/>
    </resultMap>
</mapper>
